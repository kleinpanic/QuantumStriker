# Changelog

This document chronicles all major changes and improvements made to QuantumStriker, starting from the initial TUI-based release to the current polished SDL2 version. Each version number reflects significant milestones and feature enhancements.

---

## [0.0.1] - Initial TUI Release
- **initial TUI Attempt:**
  - **background.h/c:**  
    - Draws a starry background using ncurses; stars are generated by a simple hash function.
  - **bullet.h/c:**  
    - Defines a `Bullet` structure and functions for initializing, updating, drawing, and shooting bullets.
  - **enemy.h/c:**  
    - Defines an `Enemy` structure; provides basic AI that moves enemies slowly toward the player.
  - **game.h/c:**  
    - Implements the main game loop using ncurses, processing non-blocking input, updating game objects, and collision detection.
  - **player.h/c:**  
    - Defines a `Player` structure with position, angle, health, and shield energy.  
    - Implements rotation (via arrow keys), thrust (W key), shooting (space), and shield activation (E key).
  - **score.h/c:**  
    - Functions for loading and saving high scores from a text file.
- **Functionality:**
  - Basic gameplay with TUI rendering.
  - Input handling via ncurses for movement, rotation, and shooting.
  - Collision detection between bullets, enemies, and the player.
  - High score saved in a plaintext file.
- **Notes:**  
  - This version served as the proof-of-concept for the game‚Äôs core mechanics using a text-based interface.

---

## [0.0.2] - Modularization & Background Enhancement
- **Modularization:**  
  - Separated functionality into distinct modules (background, bullet, enemy, game, player, score) for better code organization.
- **Background Improvements:**  
  - Updated background rendering to use a Cartesian grid with numeric labels and reduced, randomized stars instead of a purely procedural star field.
- **Notes:**  
  - Improved maintainability and clarity of the codebase.

---

## [0.0.3] - Input Responsiveness & HUD Enhancements
- **Input Improvements:**  
  - Reduced the frame delay to improve input responsiveness.
  - Refined the input polling loop in the game loop to process available key events more reliably.
- **HUD Enhancements:**  
  - Added a Heads-Up Display (HUD) showing player health, energy, score, and current coordinates.
- **Shield Activation Fix:**  
  - Adjusted shield activation logic so that the shield only remains active while the user holds the key.
- **Notes:**  
  - These changes made gameplay more responsive and user-friendly.

---

## [0.0.4] - Player Movement Refinement & Inertia System
- **Player Movement:**  
  - Implemented inertia by introducing velocity components (`vx` and `vy`) in the `Player` structure.
  - Added damping to simulate gradual slowing.
  - Increased thrust acceleration and capped maximum speed to ensure smooth, responsive movement.
- **Rotation Adjustments:**  
  - Reduced rotation increments for finer control.
- **Notes:**  
  - Enhanced the ‚Äúfeel‚Äù of the ship‚Äôs movement, making it more realistic and responsive.

---

## [0.0.5] - Bullet Origin & Trajectory Fixes
- **Bullet Origin:**  
  - Corrected the bullet spawn point calculation to match the ship‚Äôs tip.
  - Ensured that the bullet trajectory is computed with the same angle transformation as the player‚Äôs movement.
- **Code Adjustments:**  
  - Modified both `get_ship_tip` in player.c and `shoot_bullet` in bullet.c to subtract 90¬∞ (aligning 0¬∞ as up).
- **Notes:**  
  - Bullets now spawn and travel in the intended direction relative to the ship‚Äôs tip.

---

## [0.0.6] - Dynamic Bullet Pool Implementation
- **Infinite Firing:**  
  - Replaced the fixed bullet array with a dynamic bullet pool.
  - Implemented pool expansion to allow infinite bullets.
- **Performance Improvements:**  
  - Improved memory usage and bullet management efficiency.
- **Notes:**  
  - Enhanced gameplay by removing limits on bullet firing.

---

## [0.0.7] - Transition to SDL2 Graphics
- **Graphical Upgrade:**  
  - Migrated from ncurses TUI to SDL2 for a modern, graphical interface.
  - Integrated SDL2_ttf for text rendering and SDL2_gfx for advanced drawing (e.g., filled polygons, ellipses).
- **Code Refactoring:**  
  - Adapted all modules (player, enemy, bullet, background, score) to use SDL2.
- **Notes:**  
  - Marked a major milestone: a shift from text-based to graphical rendering.

---

## [0.0.8] - Enhanced Assets & Visual Refinements
- **Player Ship Redesign:**  
  - Redesigned the player's ship as a five-point arrow with a slightly converging bottom for a sleeker look.
  - Updated drawing routines in player.c using SDL2_gfx functions.
- **Enemy Rendering:**  
  - Replaced basic enemy representation with filled ellipses for a more polished appearance.
- **Background Update:**  
  - Enhanced the background to include a grid and additional cosmic elements.
- **Notes:**  
  - Improved aesthetics and visual appeal.

---

## [0.0.9] - High Score & Username Integration (TUI/SDL Hybrid)
- **High Score System:**  
  - Updated score.c/h to support per-user high scores.
  - Initially, the username was prompted via the terminal.
- **User Input:**  
  - High score files saved as `highscore/<username>_highscore.txt`.
- **Notes:**  
  - Laid the groundwork for a community leaderboard system.

---

## [0.1.0] - Full SDL2 Implementation & In-Game Username Prompt
- **Complete Transition:**  
  - Fully converted the game to SDL2; all terminal-based input replaced with in-window interactions.
- **Username Prompt:**  
  - Implemented an SDL2-based username prompt on game over, replacing terminal input.
- **High Score Management:**  
  - Integrated dynamic high score saving/loading in the SDL window.
- **Notes:**  
  - Provided a more immersive user experience.

---

## [0.1.1] - Command-Line Flags & Versioning
- **Command-Line Flags Added:**  
  - `--version`: Prints the version (using version.h).
  - `--help`: Displays usage instructions.
  - `--debug`: Activates debug mode (placeholder).
  - `--fullscreen`: Launches fullscreen mode (placeholder).
  - `--highscores`: Displays a table of all high scores in the terminal.
- **Versioning:**  
  - Added version.h to maintain the current version number.
- **Notes:**  
  - Enhanced user control and information display.

---

## [0.1.2] - Adaptive Difficulty & Enemy AI Improvements
- **Enemy AI Scaling:**  
  - Improved enemy AI to move more aggressively toward the player as the score increases.
  - Increased spawn rate dynamically based on score, capping at approximately 10 spawns per second.
- **Difficulty Multiplier:**  
  - Introduced a difficulty factor that scales enemy speed and spawn frequency.
- **Notes:**  
  - Provided a progressively challenging gameplay experience.

---

## [0.1.3] - GitHub Integration & Automated High Score Updates
- **Automated High Scores:**  
  - Developed a Python script (`scripts/update_highscores.py`) to scan the `highscore/` directory, sort scores, and update the README.
- **Dynamic Badge Generation:**  
  - Generated dynamic Shields.io badges for the top three scores (with trophy icons ü•á, ü•à, and ü•â).
- **GitHub Actions Workflow:**  
  - Created a GitHub Actions workflow (`.github/workflows/update-highscores.yml`) to run the Python script every Monday at 00:00 UTC.
- **Notes:**  
  - Enabled a community-driven leaderboard that updates automatically.

---

## [0.1.4] - Enhanced High Score Display and Manual Run Reminder
- **Badge Formatting:**  
  - Updated the Python script to output each badge on its own line.
  - Each badge now includes the rank, username, and score. If the username is missing, it displays "n/a".
- **Manual Run Reminder:**  
  - If the script is executed manually (i.e. not in GitHub Actions), it reminds the user to push changes or submit a pull request.
- **Notes:**  
  - Improved clarity and communication for contributors and users.

---

## [0.1.5] - QuantumStriker: The First Initial Polished Release
- **Rebranding:**  
  - Renamed the project from earlier working titles to **QuantumStriker**.
- **Integrated Features:**  
  - Fully integrated SDL2-based graphics with advanced rendering.
  - Responsive controls, adaptive difficulty, dynamic bullet pool, and sophisticated enemy AI.
  - In-window username prompt and community high score system.
  - Command-line flags for version, help, debug, fullscreen, and high scores.
  - Automated README updates for high scores (via GitHub Actions) with dynamic badges and a leaderboard.
- **Final Polish:**  
  - Comprehensive error handling, cross-platform support, and extensive documentation.
- **Notes:**  
  - This release represents the culmination of all incremental improvements and sets the stage for future enhancements.
  - This will be the beginning of the Github Repository release and history. 
    - Remade a new git from the development stage, and will be using branches in the future. 

---

Below is an example changelog entry for the new blockchain high score and cheater detection features:

---

## [0.1.6] - Blockchain Validation Addition

### Added
- **Blockchain-Based High Score System:**  
  Implemented a blockchain mechanism for score submission. Each score block now includes a proof-of-work and digital signature, ensuring score integrity.
- **Score Verification:**  
  Added `verify_scores.py` to validate each block‚Äôs proof-of-work and digital signature. Invalid scores are flagged.
- **Cheater Detection:**  
  Integrated logic in the high score update process so that any score blocks failing verification are classified as "cheaters" and will be listed in a dedicated section in the README.
- **Automated Leaderboard Update:**  
  Modified `update_highscores.py` to call the verification process before updating the README. The script now updates both the top scores section and a new cheaters section.
- **README Documentation:**  
  Updated the README to include new sections for the leaderboard and cheaters, and detailed the new blockchain verification workflow (which is triggered via GitHub Actions).

### Fixed
- Adjusted chain linkage verification in the blockchain module to properly handle genesis blocks and non-genesis blocks.

---


